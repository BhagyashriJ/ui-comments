angular.module("ui.comments",["ui.comments.tpls","ui.comments.directive"]),angular.module("ui.comments.tpls",["template/comments/comment.html","template/comments/comments.html"]),angular.module("ui.comments.directive",[]).constant("commentsConfig",{containerTemplate:"template/comments/comments.html",commentTemplate:"template/comments/comment.html",orderBy:"best"}).directive("comments",["$compile","commentsConfig",function(a,b){return{restrict:"EA",require:"?^comment",transclude:!0,replace:!0,templateUrl:b.containerTemplate,scope:!0,controller:["$scope",function(){}],compile:function(){return function(a,c,d){angular.isDefined,a.$eval,a.self={},a.$watchCollection(d.commentData,function(b){a.self.commentData=angular.isArray(b)?b:[]}),a.$watch(d.orderBy,function(c){a.self.commentOrder=c||b.orderBy})}}}}]).directive("comment",["$compile","commentsConfig",function(a,b){return{require:"^comments",restrict:"EA",transclude:!0,replace:!0,templateUrl:b.commentTemplate,compile:function(){return function(b,c,d){function e(d){if(angular.isArray(d)&&d.length>0&&!f){var e=angular.element;c.append(e('<comments child-comments="true" comment-data="comment.children"></comments>')),c=a(c)(b),f=!0}else angular.isArray(d)&&d.length||!f||(f=!1,c.html(""))}"true"===c.parent().attr("child-comments")&&c.addClass("child-comment"),b.comment=b.$eval(d.commentData);var f=!1;b.$watch(d.commentData,function(a){b.comment=a,e(b.comment.children)})}}}}]),angular.module("template/comments/comment.html",[]).run(["$templateCache",function(a){a.put("template/comments/comment.html",'<div class="comment">\n  <div class="comment-header">\n    <span class="comment-user">\n      <a class="comment-username" ng-if="comment.profileUrl" ng-href="comment.profileUrl" title="{{comment.name}}">{{comment.name}}</a>\n      <img class="comment-avatar" ng-if="comment.avatarUrl" ng-src="comment.avatarUrl" alt="{{comment.name}}" />\n      <span class="comment-username" ng-if="!comment.profileUrl">{{comment.name}}</span>\n      <span class="comment-date" ng-if="comment.date">{{comment.date}}</span>\n  </div>\n  <div class="comment-body" ng-bind="comment.text">\n      <child-comments comment-data="comment.children"></child-comments>\n  </div>\n</div>')}]),angular.module("template/comments/comments.html",[]).run(["$templateCache",function(a){a.put("template/comments/comments.html",'<div class="comments">\n  <comment ng-repeat="comment in self.commentData" comment-data="comment"></comment>\n</div>\n')}]);